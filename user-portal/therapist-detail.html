<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>セラピスト詳細 - 天使たちの癒し</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/portal.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="../assets/js/therapist-data.js"></script>
</head>
<body>
    <!-- ヘッダーコンポーネント -->
    <div id="header" data-component="portal-header"></div>

    <!-- Therapist Detail -->
    <section class="therapist-detail">
        <div class="container">
            <div class="therapist-profile">
                <div class="therapist-photo" id="therapist-photo" style="background-image: url('../assets/images/therapists/therapist1.jpg');"></div>
                
                <div class="therapist-info">
                    <h2 id="therapist-name">山田 優子</h2>
                    <p class="specialty" id="therapist-specialty">マッサージ・指圧</p>
                    
                    <div class="therapist-description" id="therapist-description">
                        <p>10年以上の経験を持つマッサージのスペシャリスト。特に肩こりや腰痛のケアを得意としています。</p>
                        <p>医療系の学校を卒業後、複数の有名サロンで経験を積んできました。お客様一人ひとりの状態や悩みに合わせた、オーダーメイドの施術を提供することをモットーにしています。</p>
                        <p>自身も長年デスクワークによる肩こりに悩まされてきた経験から、オフィスワーカーの方の身体の不調を改善するための施術に特に力を入れています。</p>
                    </div>
                    
                    <div class="qualification-list">
                        <h3>資格・経歴</h3>
                        <ul id="therapist-qualifications">
                            <!-- ここに資格リストが動的に挿入されます -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="therapist-services">
                <h3>提供サービス</h3>
                <ul id="therapist-services">
                    <!-- ここにサービスリストが動的に挿入されます -->
                </ul>
            </div>
            
            <div class="booking-button">
                <a href="index.html#booking" class="btn">ご予約はこちら</a>
            </div>
        </div>
    </section>

    <!-- フッターコンポーネント -->
    <div id="footer" data-component="portal-footer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // URLからセラピストIDを取得
            const urlParams = new URLSearchParams(window.location.search);
            const therapistId = urlParams.get('id') || 1; // IDがない場合は1をデフォルトとする
            
            // セラピストデータを取得
            const therapist = getTherapistById(parseInt(therapistId));
            
            if(therapist) {
                // 各要素にセラピスト情報を設定
                document.getElementById('therapist-name').textContent = therapist.name;
                document.getElementById('therapist-specialty').textContent = therapist.specialty;
                
                // 写真の設定
                document.getElementById('therapist-photo').style.backgroundImage = `url('${therapist.photo}')`;
                
                // プロフィール説明の設定
                const descriptionContainer = document.getElementById('therapist-description');
                descriptionContainer.innerHTML = '';
                therapist.description.forEach(paragraph => {
                    const p = document.createElement('p');
                    p.textContent = paragraph;
                    descriptionContainer.appendChild(p);
                });
                
                // 資格・経歴の設定
                const qualificationsList = document.getElementById('therapist-qualifications');
                qualificationsList.innerHTML = '';
                therapist.qualifications.forEach(qualification => {
                    const li = document.createElement('li');
                    li.textContent = qualification;
                    qualificationsList.appendChild(li);
                });
                
                // 提供サービスの設定
                const servicesList = document.getElementById('therapist-services');
                servicesList.innerHTML = '';
                therapist.services.forEach(service => {
                    const li = document.createElement('li');
                    li.textContent = service;
                    servicesList.appendChild(li);
                });
                
                // タイトルの更新
                document.title = `${therapist.name} - 天使たちの癒し`;
            } else {
                // セラピストが見つからない場合
                alert('指定されたセラピストが見つかりません。');
                window.location.href = 'therapists.html';
            }
        });
    </script>

    <script src="../assets/js/load-components.js"></script>
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/portal.js"></script>
</body>
</html>